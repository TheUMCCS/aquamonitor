<?xml version="1.0" encoding="ISO-8859-1"?>

<web-app xmlns="http://java.sun.com/xml/ns/j2ee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
         version="2.4">

  <display-name>GOMonitor</display-name>
  <description>
     GOMA Water Quality Management Catalog
  </description>

    <servlet>
        <servlet-name>home</servlet-name>
        <jsp-file>/web/jsp/splash.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>home</servlet-name>
        <url-pattern>/home</url-pattern>
    </servlet-mapping>
 
    <servlet>
        <servlet-name>search</servlet-name>
        <jsp-file>/web/jsp/spatial.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>search</servlet-name>
        <url-pattern>/search</url-pattern>
    </servlet-mapping> 
  
   
    <servlet>
        <servlet-name>about</servlet-name>
        <jsp-file>/web/jsp/about.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>about</servlet-name>
        <url-pattern>/about</url-pattern>
    </servlet-mapping> 
  
    
    <servlet>
        <servlet-name>request-account</servlet-name>
        <jsp-file>/web/jsp/requestAccount.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>request-account</servlet-name>
        <url-pattern>/request-account</url-pattern>
    </servlet-mapping>
 
    <servlet>
        <servlet-name>logout</servlet-name>
        <jsp-file>/web/jsp/logout.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>logout</servlet-name>
        <url-pattern>/logout</url-pattern>
    </servlet-mapping>
    
     <servlet>
        <servlet-name>login</servlet-name>
        <jsp-file>/web/jsp/login.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>login</servlet-name>
        <url-pattern>/login</url-pattern>
    </servlet-mapping>
    
     <servlet>
        <servlet-name>details</servlet-name>
        <jsp-file>/web/jsp/details.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>details</servlet-name>
        <url-pattern>/details</url-pattern>
    </servlet-mapping>    

    <servlet>
        <servlet-name>console</servlet-name>
        <jsp-file>/web/jsp/admin/index.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>console</servlet-name>
        <url-pattern>/admin/</url-pattern>
    </servlet-mapping>
        
    <servlet>
        <servlet-name>profile</servlet-name>
        <jsp-file>/web/jsp/admin/profile.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>profile</servlet-name>
        <url-pattern>/admin/profile</url-pattern>
    </servlet-mapping>
    
    <servlet>
        <servlet-name>users</servlet-name>
        <jsp-file>/web/jsp/admin/user.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>users</servlet-name>
        <url-pattern>/admin/users</url-pattern>
    </servlet-mapping>
        
    <servlet>
        <servlet-name>organizations</servlet-name>
        <jsp-file>/web/jsp/admin/organization.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>organizations</servlet-name>
        <url-pattern>/admin/organizations</url-pattern>
    </servlet-mapping>
      
    <servlet>
        <servlet-name>programs</servlet-name>
        <jsp-file>/web/jsp/admin/program.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>programs</servlet-name>
        <url-pattern>/admin/programs</url-pattern>
    </servlet-mapping> 
       
    <servlet>
        <servlet-name>projects</servlet-name>
        <jsp-file>/web/jsp/admin/project.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>projects</servlet-name>
        <url-pattern>/admin/projects</url-pattern>
    </servlet-mapping>
     
    <servlet>
        <servlet-name>stations</servlet-name>
        <jsp-file>/web/jsp/admin/station.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>stations</servlet-name>
        <url-pattern>/admin/stations</url-pattern>
    </servlet-mapping>        
     
    <servlet>
        <servlet-name>link-stations</servlet-name>
        <jsp-file>/web/jsp/admin/linkStations.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>link-stations</servlet-name>
        <url-pattern>/admin/link-stations</url-pattern>
    </servlet-mapping>       

    <servlet>
        <servlet-name>observation-tuples</servlet-name>
        <jsp-file>/web/jsp/admin/observationTuples.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>observation-tuples</servlet-name>
        <url-pattern>/admin/observation-tuples</url-pattern>
    </servlet-mapping>
                             
    <servlet>
        <servlet-name>add-obs-params</servlet-name>
        <jsp-file>/web/jsp/admin/addObservationParameter.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>add-obs-params</servlet-name>
        <url-pattern>/admin/add-obs-params</url-pattern>
    </servlet-mapping>           
                             
    <servlet>
        <servlet-name>edit-obs-params</servlet-name>
        <jsp-file>/web/jsp/admin/editObservationParameter.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>edit-obs-params</servlet-name>
        <url-pattern>/admin/edit-obs-params</url-pattern>
    </servlet-mapping>           

    <servlet>
        <servlet-name>dictionaries</servlet-name>
        <jsp-file>/web/jsp/admin/dictionary.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>dictionaries</servlet-name>
        <url-pattern>/admin/dictionaries</url-pattern>
    </servlet-mapping>
               
    <servlet>
        <servlet-name>dictionary</servlet-name>
        <jsp-file>/web/jsp/admin/dictionaryTerms.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>dictionary</servlet-name>
        <url-pattern>/admin/dictionary</url-pattern>
    </servlet-mapping>
               
    <servlet>
        <servlet-name>gz</servlet-name>
        <jsp-file>/web/jsp/admin/gz.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>gz</servlet-name>
        <url-pattern>/admin/gz</url-pattern>
    </servlet-mapping>
                             
    <servlet>
        <servlet-name>bulk-add</servlet-name>
        <jsp-file>/web/jsp/admin/bulkAdd.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>bulk-add</servlet-name>
        <url-pattern>/admin/bulk-add</url-pattern>
    </servlet-mapping>
                                
    <servlet>
        <servlet-name>approvals</servlet-name>
        <jsp-file>/web/jsp/admin/approval.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>approvals</servlet-name>
        <url-pattern>/admin/approvals</url-pattern>
    </servlet-mapping>
                                 
    <servlet>
        <servlet-name>announcements</servlet-name>
        <jsp-file>/web/jsp/admin/announcement.jsp</jsp-file>
    </servlet>

    <servlet-mapping>
        <servlet-name>announcements</servlet-name>
        <url-pattern>/admin/announcements</url-pattern>
    </servlet-mapping>  
 
   	<servlet>
        <servlet-name>user-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.UserOperations</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>user-ops</servlet-name>
        <url-pattern>/admin/user-ops</url-pattern>
    </servlet-mapping>
    
   	<servlet>
        <servlet-name>org-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.OrganizationOperations</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>org-ops</servlet-name>
        <url-pattern>/admin/org-ops</url-pattern>
    </servlet-mapping>
         
   	<servlet>
        <servlet-name>program-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.ProgramOperations</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>program-ops</servlet-name>
        <url-pattern>/admin/program-ops</url-pattern>
    </servlet-mapping>
           
   	<servlet>
        <servlet-name>person-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.PersonOperations</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>person-ops</servlet-name>
        <url-pattern>/admin/person-ops</url-pattern>
    </servlet-mapping>
             
   	<servlet>
        <servlet-name>project-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.ProjectOperations</servlet-class>
    </servlet>
        
    <servlet-mapping>
        <servlet-name>project-ops</servlet-name>
        <url-pattern>/admin/project-ops</url-pattern>
    </servlet-mapping>
              
   	<servlet>
        <servlet-name>station-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.StationOperations</servlet-class>
    </servlet>
        
    <servlet-mapping>
        <servlet-name>station-ops</servlet-name>
        <url-pattern>/admin/station-ops</url-pattern>
    </servlet-mapping>
       
   	<servlet>
        <servlet-name>dictionary-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.DictionaryOperations</servlet-class>
    </servlet>
        
    <servlet-mapping>
        <servlet-name>dictionary-ops</servlet-name>
        <url-pattern>/admin/dictionary-ops</url-pattern>
    </servlet-mapping>
       
   	<servlet>
        <servlet-name>term-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.DictionaryTermOperations</servlet-class>
    </servlet>
        
    <servlet-mapping>
        <servlet-name>term-ops</servlet-name>
        <url-pattern>/admin/term-ops</url-pattern>
    </servlet-mapping>
       
   	<servlet>
        <servlet-name>obs-param-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.ObservationParameterOperations</servlet-class>
    </servlet>
        
    <servlet-mapping>
        <servlet-name>obs-param-ops</servlet-name>
        <url-pattern>/admin/obs-param-ops</url-pattern>
    </servlet-mapping>
            
   	<servlet>
        <servlet-name>obs-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.ObservationOperations</servlet-class>
    </servlet>
        
    <servlet-mapping>
        <servlet-name>obs-ops</servlet-name>
        <url-pattern>/admin/obs-ops</url-pattern>
    </servlet-mapping>
             
   	<servlet>
        <servlet-name>gz-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.GZOperations</servlet-class>
    </servlet>
        
    <servlet-mapping>
        <servlet-name>gz-ops</servlet-name>
        <url-pattern>/admin/gz-ops</url-pattern>
    </servlet-mapping>
       
   	<servlet>
        <servlet-name>approval-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.ApprovalOperations</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>approval-ops</servlet-name>
        <url-pattern>/admin/approval-ops</url-pattern>
    </servlet-mapping>
      
        
   	<servlet>
        <servlet-name>announcement-ops</servlet-name>
        <servlet-class>edu.miami.ccs.goma.AnnouncementOperations</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>announcement-ops</servlet-name>
        <url-pattern>/admin/announcement-ops</url-pattern>
    </servlet-mapping>
        
    <servlet>
        <servlet-name>login-interceptor</servlet-name>
        <servlet-class>edu.miami.ccs.goma.LoginInterceptor</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>login-interceptor</servlet-name>
        <url-pattern>/admin/login-interceptor</url-pattern>
    </servlet-mapping>

   	<servlet>
        <servlet-name>utilities</servlet-name>
        <servlet-class>edu.miami.ccs.goma.Utilities</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>utilities</servlet-name>
        <url-pattern>/utilities</url-pattern>
    </servlet-mapping>


   	<servlet>
        <servlet-name>bulk-upload</servlet-name>
        <servlet-class>edu.miami.ccs.goma.BulkUpload</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>bulk-upload</servlet-name>
        <url-pattern>/admin/bulk-upload</url-pattern>
    </servlet-mapping>


   	<servlet>
        <servlet-name>reset-password</servlet-name>
        <servlet-class>edu.miami.ccs.goma.ResetPassword</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>reset-password</servlet-name>
        <url-pattern>/reset-password</url-pattern>
    </servlet-mapping>
    
        
    <servlet>
        <servlet-name>process-account</servlet-name>
        <servlet-class>edu.miami.ccs.goma.ProcessNewAccount</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>process-account</servlet-name>
        <url-pattern>/process-account</url-pattern>
    </servlet-mapping>
   
    
    <servlet>
        <servlet-name>download-results</servlet-name>
        <servlet-class>edu.miami.ccs.goma.DownloadSearchResults</servlet-class>
    </servlet>
    
    <servlet-mapping>
        <servlet-name>download-results</servlet-name>
        <url-pattern>/download-results</url-pattern>
    </servlet-mapping>
    
    <welcome-file-list>
        <welcome-file>home</welcome-file>
    </welcome-file-list>


<!--Security Constraints to provide Basic AUTH for GOMA -->

<security-constraint>
  <web-resource-collection>
    <web-resource-name>
     GoMonitor Access
    </web-resource-name>
    <url-pattern>/admin/*</url-pattern>
	<http-method>GET</http-method>
	<http-method>POST</http-method>
  </web-resource-collection>
  <auth-constraint>
      <role-name>CAU</role-name>
      <role-name>DPA</role-name>
  </auth-constraint>
</security-constraint>

   <security-role>
       <description>Central Administrator User</description>
       <role-name>CAU</role-name>
   </security-role>
   <security-role>
       <description>Data Provider Administrator</description>
       <role-name>DPA</role-name>
   </security-role>
   
<!-- Define the Login Configuration for this Application -->

<login-config>
  <auth-method>FORM</auth-method>
  		<form-login-config>
			<form-login-page>/login</form-login-page>
			<form-error-page>/login?error=true</form-error-page>
		</form-login-config>
</login-config>



</web-app>
